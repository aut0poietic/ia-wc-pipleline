# An Intentionally Stupid Attempt

 This directory contains an attempt to build a lit-element based Web Component with
 webpack & node-sass without much thought or planning.

 You can rebuild this yourself using `npm run build` and serve it up using `npm run serve`.
 
## The Process
The source files are in a directory named for the component, with the idea being that the 
build process would capture the directory name and generate the file name. (Of course, I didn't 
actually put that bit in there.)

The `ia-card/index.js` file is the entry point and I put no thought into handling it so there
 are no rules in the config for it. No Babel, either. 
 
The `ia-card/index.scss` is imported into a JS as a variable and lit-element uses that in the
static `styles` getter, as is the pattern. The webpack config is using the `css-to-string-loader` 
to create a CSS string rather than a JavaScript Module containing the CSS (as style-loader 
would produce).
 
## Results

| Item | Detail |
| ---- | ------ |
| Source JS | 448 B |
| Source CSS (SCSS) | 326 B |
| Production Bundle | 22 KB |

It works on [supported browsers](https://caniuse.com/#search=modules) with no obvious 
technical issues. 

### The Problems

#### File Size
 The main issue I have with this result is the file size. The resulting file is 22KB.
 I know this doesn't sound like much when we're discussing frameworks, but this seems excessive. 
 Lit Element is supposed to be 3K!?
 
 Except, it's not. If you were to import LitElement from the unpkg.com CDN, the module pulls in 
 another 17 files using JS Modules, weighing in around 43K, un-minified. 
 That seems on par with the 22K file size generated by the Webpack production build.
  
#### CSS as JS?
 A nastier issue is the CSS. Because I'm using `import` to stuff the generated CSS in a 
 JavaScript variable. Using he `css` template tag requires that JS variables are wrapped in the `unsafeCSS()`
 method to sanitize the content. This seems like a monumental waste, but I'm not sure
 if there's any workaround for this. I may try just returning the variable in a future experiment.

## Final Words
 I'm both encouraged and disappointed by this result. On the one hand, I accomplished the goal: .js
 and .scss files combined to create one, self-contained web component. 
 
 But on the other hand, this feels like a bit of a failure. I think I'm stuck in the old glory days of
 downloading a library once and using it over and over (who thought I'd look back fondly at jQuery?).
 If I wanted to create a library of reusable components, each individually wrapped, my minimum size is 22K each. 
 
 I think I can do better, but at this point I think I have more questions than answers.
   
 For starters: I'm questioning if lit-element is worth the cost.